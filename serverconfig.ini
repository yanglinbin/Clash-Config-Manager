# 服务器部署配置文件
# 用于配置服务器路径、端口等基础设施参数

[deployment]
# 项目名称
project_name = clash-config-server

# 安装路径
install_dir = /opt/clash-config-server

# 服务用户
service_user = clash

# 服务组
service_group = clash

[network]
# Webhook 服务监听地址
webhook_host = 127.0.0.1

# Webhook 服务监听端口
webhook_port = 5000

# 是否绑定到所有接口（生产环境建议使用 127.0.0.1，通过 Nginx 反向代理）
bind_all_interfaces = false

[paths]
# 日志目录
log_dir = logs

# 数据目录
data_dir = data

# 静态文件目录
static_dir = static

# 配置文件备份目录
backup_dir = backups

[systemd]
# Webhook 服务名称
webhook_service_name = clash-webhook

# 更新服务名称
updater_service_name = clash-config-updater

# 定时器名称
timer_name = clash-config-updater.timer

# 服务重启延迟（秒）
restart_sec = 10

[nginx]
# 配置文件访问路径
config_path = /clash_profile.yaml

# API 路径前缀
api_prefix = /clash

# Webhook 路径
webhook_path = /clash/webhook

# 状态页面路径
status_path = /clash/status

# 手动更新路径
manual_update_path = /clash/manual-update

# 管理界面路径
admin_path = /clash/

[git]
# Git 主分支名称
main_branch = main

# Git 远程仓库名称
remote_name = origin

# Git 操作超时时间（秒）
timeout = 30

[backup]
# 保留的备份文件数量
keep_count = 10

# 备份文件命名格式（strftime 格式）
filename_format = clash_profile_%Y%m%d_%H%M%S.yaml

[monitoring]
# 配置文件最小大小（字节）
min_config_size = 1000

# 健康检查间隔（秒）
health_check_interval = 300

